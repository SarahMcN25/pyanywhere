<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
       
      <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<!-- JavaScript Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
	
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.1/css/dataTables.bootstrap5.min.css">
	<script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
	<script type="text/javascript" language="javascript" 
	src="https://cdn.datatables.net/1.11.1/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.11.1/js/dataTables.bootstrap5.min.js"></script>
	
    </head>
	
    <body>
        <!-- Pic -->
		<div align="center">
			<img src="snnairport.jpeg" alt="Shannon Airport Logo" width="450" height="250">
		</div>
        
		<div class="card">
			<div class="card-header">
				<h3>Arrivals at Shannon Airport</h3>
			</div>

			<div class="card-body">
				<div class="container" style="width:60%;">
				  <table id="example" border="2" class="table table-hover">
					  <thead>
						  <tr>
							  
							<th scope="col">Airline</th>
							<th scope="col">Destination</th>
							<th scope="col">Flight Number</th>
							<th scope="col">ID</th>
							<th scope="col">Origin</th>
							  
						  </tr>
					  </thead>
				  </table>
				</div>
			
			</div>

		</div>


        <div id="arrivalList">
            
        </div>
    </body>


	<script type="text/javascript" class="init">
		
		$(document).ready(function() {
		  // Create a new DataTable object
		  table = $('#example').DataTable({
			   ajax: {
				 url: '/arrivals',
			   },
			   columns: [
				   { data: 'airline' },
				   { data: 'destination' },
				   { data: 'flight number' },
				   { data: 'id' },
				   { data: 'origin' }
				 ]
			   })
		});
		
		app.get("/arrivals", function (req, res) {
		const url = "http://127.0.0.1:5000/arrivals";
		// Make a request
		  axios.get(url)
			.then(response => {
			  // send the collected data back to the client-side DataTable
			  res.json({
				"data": response.data
			  })
			})
			.catch(function (error) {
			   // handle error
			   res.json({"error": error});
			})
		});
	</script>


</html>